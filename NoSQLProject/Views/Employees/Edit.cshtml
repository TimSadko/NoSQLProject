@* Place this file at: Views/Employees/Edit.cshtml *@

@model NoSQLProject.Models.Employee

@{
    ViewData["Title"] = "Edit Employee";
}

<partial name="_ErrorMessage" />

<div class="fade-in">
    <div class="employee-card shadow-lg">
        <h2 class="employee-title">Edit Employee</h2>

        <form asp-action="Edit" method="post" class="employee-form">
            <input type="hidden" asp-for="Id" />

            <!-- Hidden field to preserve the role -->
            @{
                var isServiceDesk = Model.GetType().Name == "ServiceDeskEmployee";
                <input type="hidden" name="Role" value="@(isServiceDesk ? "ServiceDeskEmployee" : "Employee")" />
            }

            <div class="form-group mb-3">
                <label asp-for="FirstName" class="form-label fw-semibold"></label>
                <input asp-for="FirstName" class="form-control form-control-lg" placeholder="Enter first name" />
                <span asp-validation-for="FirstName" class="text-danger small"></span>
            </div>

            <div class="form-group mb-3">
                <label asp-for="LastName" class="form-label fw-semibold"></label>
                <input asp-for="LastName" class="form-control form-control-lg" placeholder="Enter last name" />
                <span asp-validation-for="LastName" class="text-danger small"></span>
            </div>

            <div class="form-group mb-3">
                <label asp-for="Email" class="form-label fw-semibold"></label>
                <input asp-for="Email" class="form-control form-control-lg" placeholder="example@email.com" />
                <span asp-validation-for="Email" class="text-danger small"></span>
            </div>

            <div class="form-group mb-3">
                <label asp-for="Password" class="form-label fw-semibold"></label>
                <input asp-for="Password" class="form-control form-control-lg" type="password" autocomplete="new-password" placeholder="Leave blank to keep current password" data-val="false" />
                <small class="form-text text-muted">Leave blank to keep the current password.</small>
            </div>

            <div class="form-group mb-4">
                <label asp-for="Status" class="form-label fw-semibold"></label>
                <select asp-for="Status" class="form-select form-select-lg"
                        asp-items="Html.GetEnumSelectList<NoSQLProject.Models.Employee_Status>()"></select>
            </div>

            <div class="d-flex justify-content-between mt-4">
                <a asp-action="Index" class="btn btn-secondary px-4 py-2">Back</a>
                <button type="submit" class="btn btn-save px-4 py-2">Save Changes</button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
